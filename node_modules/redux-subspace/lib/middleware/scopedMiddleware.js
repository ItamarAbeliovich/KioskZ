"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
/**
 * Copyright 2017, IOOF Holdings Limited.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

var copyProperties = function copyProperties(source, target) {
    return Object.keys(source).forEach(function (key) {
        return target[key] = source[key];
    });
};

var scopedMiddleware = function scopedMiddleware(middleware, predicate) {
    var wrappedMiddleware = function wrappedMiddleware(store) {
        if (predicate(store)) {
            var appliedMiddleware = middleware(store);
            copyProperties(middleware, wrappedMiddleware);
            return appliedMiddleware;
        }
        return {};
    };
    copyProperties(middleware, wrappedMiddleware);
    return wrappedMiddleware;
};

exports.default = scopedMiddleware;